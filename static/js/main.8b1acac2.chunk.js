(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/avatar2.651971ea.png"},103:function(e,t,n){e.exports=n(256)},13:function(e,t,n){e.exports=n.p+"static/media/avatar1.60c20d88.jpg"},210:function(e,t,n){},220:function(e,t,n){},222:function(e,t,n){},224:function(e,t,n){},228:function(e,t,n){},236:function(e,t,n){},238:function(e,t,n){},240:function(e,t,n){},242:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(6),s=n(8),i=n(7),o=n(9),c=n(0),l=n.n(c),u=n(53),d=n.n(u),m=n(18),p=n(11),f=n(59),g=n(22),h=n.n(g),v=n(86),b=n(2),y=(n(118),n(89));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(4),N=n(3);function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return function(e,t){return!t||e.scope===t}(r,n)&&t.hasOwnProperty(r.type)?t[r.type](a,r):a}}var O="CREDENTIALS_RESET",S="CREDENTIALS_UPDATE";var M,I=n(90),_={_id:"defaultId",userName:null,profile:{picture:n.n(I).a}};var k=j(_,(M={},Object(E.a)(M,O,function(){return _}),Object(E.a)(M,S,function(e,t){var n=t._id,a=t.userName,r=t.profile;return Object(N.a)({},e,{_id:n,profile:r,userName:a})}),M)),w=n(91),A=n.n(w),G="RECEIVE_ENTITIES",C="REMOVE_ENTITIES";function T(e){return{type:G,entities:e}}var U,x={messages:{}};var H,P=j(x,(U={},Object(E.a)(U,G,function(e,t){var n=t.entities,a=e;return A()(n,function(t,n){a=Object(N.a)({},a,Object(E.a)({},n,Object(N.a)({},e[n],t)))}),a}),Object(E.a)(U,C,function(e,t){var n=e;return t.entities.map(function(a){return n[t.entityType]=function(e,t){if(!e||!e[t.id])return e;var n=e;return n.splice(t.id,1),n}(e[t.entityType],a),!0}),n}),Object(E.a)(U,"RESET_ENTITIES",function(){return x}),Object(E.a)(U,"UPDATE_ENTITIES",function(e,t){var n=e;return t.entities.map(function(a){return n[t.entityType]=Object(N.a)({},e[t.entityType],function(e,t){var n=e[t.id];return n?Object(E.a)({},t.changes.id||t.id,Object(N.a)({},n,t.changes)):{}}(e[t.entityType],a)),!0}),n}),U)),L=n(14),D=new L.c.Entity("users",{},{idAttribute:"_id"}),B=new L.c.Entity("messages",{user:D},{idAttribute:"_id"}),F=[B],W="MESSAGES_RESET",q="MESSAGES_ADD",R="MESSAGE_SENT";var V={ids:[],limit:10,skip:0,totalMessages:0};var J=j(V,(H={},Object(E.a)(H,W,function(){return V}),Object(E.a)(H,q,function(e,t){var n=t.ids,a=t.limit,r=t.skip,s=t.totalMessages;return Object(N.a)({},e,{ids:Array.from(new Set(e.ids.concat(n))),limit:a,skip:r,totalMessages:s})}),Object(E.a)(H,R,function(e,t){var n=t.id;return Object(N.a)({},e,{ids:Array.from(new Set(e.ids.concat([n]))),totalMessages:e.totalMessages+1})}),H)),Y=Object(p.c)({credentials:k,entities:P,messages:J}),z=function(e,t){var n=e;return"RESET_APP"===t.type&&(h.a&&h.a.removeItem&&Object.keys(e).forEach(function(e){h.a.removeItem("persist:".concat(e))}),n=void 0),Y(n,t)},K=n(92),Q=n(20),$=n.n(Q),X=(n(206),n(207),n(26)),Z=n.n(X),ee=(n(208),n(209),{en:"en","en-gb":"en",gb:"en",es:"es",fr:"fr"}),te={en:{i18n:"en",moment:"en-gb",flagIcon:"gb"},es:{i18n:"es",moment:"es",flagIcon:"es"},fr:{i18n:"fr",moment:"fr",flagIcon:"fr"}},ne=function(e,t){return e&&t?te[ee[e]][t]:(console.error('Locale and output are required (localeTo("en", "moment"))'),!1)},ae=(n(210),n(93)),re=(n(220),n(222),n(19)),se=n.n(re),ie=(n(224),function(e){return"en"===e.language?"gb":e.language}),oe=function(e,t){return t.language===e?"hidden":"visible"},ce=function(e){var t=e.btnClass,n=e.i18n,a=e.onChangeLanguage,r=e.t;return l.a.createElement("div",{className:"languages dropdown"},l.a.createElement("button",{type:"button",id:"languagesDropdown",className:se()("dropdown-toggle",Object(E.a)({},t,t)),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("span",{className:"flag-icon flag-icon-".concat(ie(n))}),r("language.".concat(n.language))),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":r("component:MainHeader.Languages.languagesDropdown.labelledBy")},l.a.createElement("a",{className:"dropdown-item ".concat(oe("en",n)),href:"#",onClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";a&&a(t),n.changeLanguage(t)}},l.a.createElement("span",{className:"flag-icon flag-icon-gb"}),r("language.en")),l.a.createElement("a",{className:"dropdown-item ".concat(oe("fr",n)),href:"#",onClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fr";a&&a(t),n.changeLanguage(t)}},l.a.createElement("span",{className:"flag-icon flag-icon-fr"}),r("language.fr"))))};ce.defaultProps={onChangeLanguage:function(e){return e}},ce.defaultProps={btnClass:"btn btn-outline-light"};var le=Object(b.c)()(ce),ue=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"render",value:function(){var e=this.props.t;return l.a.createElement("header",{id:"main-header"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark"},l.a.createElement("div",{className:"container position-relative"},l.a.createElement("span",{className:"navbar-brand mb-0 h1 d-none d-md-inline"},e("project.title")),l.a.createElement("span",{className:"my-2 ml-2 ml-sm-0 mr-2 mr-sm-3"},l.a.createElement(le,null)),l.a.createElement("p",{id:"title-dom",className:"navbar-text mr-auto"}),l.a.createElement("div",{id:"side-action-dom"}))))}}]),t}(l.a.Component);ue.defaultProps={onMount:function(){return!1}};var de=Object(b.c)()(ue),me=n(17),pe=n(36),fe=(n(228),function(){return l.a.createElement("div",{className:"loader"},l.a.createElement(me.a,{icon:pe.faCircleNotch,spin:!0}))}),ge=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={contentCanBeLoaded:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.i18n,r=t.t,s=this.state.contentCanBeLoaded;return l.a.createElement("div",{id:"layout"},l.a.createElement(ae.Helmet,null,l.a.createElement("title",null,r("project.title")),l.a.createElement("meta",{name:"robots",content:"all"}),l.a.createElement("meta",{name:"language",content:a.language})),l.a.createElement(de,{onMount:function(){return e.setState({contentCanBeLoaded:!0})}}),l.a.createElement("main",{id:"page",className:"content-wrapper"},s?n:l.a.createElement(fe,null)))}}]),t}(l.a.Component),he=Object(b.c)()(ge),ve=n(57),be=n.n(ve),ye=n(94),Ee=n(95),Ne=n.n(Ee),je=n(96),Oe=n.n(je),Se=n(13),Me=n.n(Se),Ie=n(10),_e=n.n(Ie),ke={fr:[{_id:"randomlyGeneratedMessageId1",sentAt:"1550926394001",content:"Tu as vu l'\xe9pisode final de How I Met Your Mother ?",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId2",sentAt:"1550926522171",content:"Oui, c'\xe9tait pas mal.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId3",sentAt:"1550926609209",content:"J'ai bien aim\xe9 moi aussi, mais il est vivement critiqu\xe9 apparemment...",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId4",sentAt:"1550926681241",content:"C'est parce que les fan ne s'attendaient pas \xe0 \xe7a et je peux les comprendre en soit.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId5",sentAt:"1550926724177",content:"Mais pour moi \xe7a reste un bonne fin quand m\xeame. Apr\xe8s tant de saison et de blagues qui nous ont bien fait rire.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId6",sentAt:"1550926800577",content:"Carr\xe9mment ! C'est une s\xe9rie : Legen -",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId7",sentAt:"1550926848921",content:"- dary ! Ah ah",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId8",sentAt:"1550926916649",content:"Bref, je dois y aller, on se parlera de s\xe9rie un prochaine fois.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId9",sentAt:"1550926916670",content:"Tu me diras ce que tu penses de Bojack Horseman sur Netflix. A la prochaine.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId10",sentAt:"1550926923185",content:"Avec plaisir, c'esr une de mes s\xe9ries pr\xe9f\xe9r\xe9es !",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId11",sentAt:"1550926923190",content:"Ciao ciao",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}}],en:[{_id:"randomlyGeneratedMessageId1",sentAt:"1550926394001",content:"Hey ! did you seen the season 9 final of How I Met Your Mother ?",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId2",sentAt:"1550926522171",content:"Oh yes, that was good.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId3",sentAt:"1550926609209",content:"I liked it too, but it's highly critized by others. ^^",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId4",sentAt:"1550926681241",content:"That's because fans didn't expected this ending and even if I liked it, I can't blame them for that either.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId5",sentAt:"1550926724177",content:"It's still a good ending for me, after all those season you know, all those jokes and laughs. :-)",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId6",sentAt:"1550926800577",content:"Hell yeah ! We can say that the show is : Legen -",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId7",sentAt:"1550926848921",content:"- dary ! Ah ah",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId8",sentAt:"1550926916649",content:"Well, I've got to go. Should talk about tv shows another time.",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId9",sentAt:"1550926916670",content:"You'll tell me what you think about Bojack Horseman. :-) See ya'",user:{_id:"randomlyGeneratedUserId2",userName:"Samy",profile:{picture:_e.a}}},{_id:"randomlyGeneratedMessageId10",sentAt:"1550926923185",content:"With pleasure, this is one of my favorite show.",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}},{_id:"randomlyGeneratedMessageId11",sentAt:"1550926923190",content:"Ciao",user:{_id:"randomlyGeneratedUserId1",userName:"Nicolas",profile:{picture:Me.a}}}]},we={create:function(e,t){return t.onSuccess({message:Object(N.a)({},e,{_id:Oe()(),isHidden:!1,sentAt:"".concat((new Date).getTime())})})},find:function(e,t){for(var n=e.skip,a=e.limit,r=e.language,s=[],i=ke[void 0===r?"en":r],o=i.length-1-n,c=o-a,l=o;l>c;l-=1){var u=i[l];if(!u)break;s.push(u)}t.onSuccess({skip:n,limit:a,totalMessages:i.length,messages:s})},update:function(e,t){return t.onSuccess({message:e})}},Ae=n(97),Ge=n.n(Ae),Ce=n(98),Te=n.n(Ce),Ue=n(38),xe=(n(236),n(99)),He=n(100),Pe=(n(238),function(e){var t=e.content,n=e.isHidden,a=e.isUser,r=e.onHide,s=e.picture,i=e.sentAt,o=e.userName;return l.a.createElement("li",{className:se()("message",{left:!a,right:a,hidden:n})},l.a.createElement("img",{className:"avatar",src:s,alt:"Avatar"}),l.a.createElement("div",{className:"text-wrapper"},l.a.createElement("div",{className:"text"},l.a.createElement("div",{className:"info"},l.a.createElement("span",{className:"mr-2"},o),l.a.createElement("time",{className:"d-none d-sm-inline"},$.a.unix(i/1e3).format("LLL"))),t,r&&a&&l.a.createElement("button",{onClick:r,className:"btn-hide btn-nale"},l.a.createElement(me.a,{icon:n?xe.faEye:He.faEyeSlash})))))});Pe.defaultProps={isHidden:!1,onHide:null};var Le=Pe,De=window.jQuery,Be=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={content:e.inputValue,wasAtBottom:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.inputValue;e.inputValue!==t&&this.setState({content:e.inputValue});var n=De(this.messages);this.setState({wasAtBottom:n[0].scrollHeight-n.scrollTop()===n.outerHeight()})}},{key:"componentDidUpdate",value:function(){this.state.wasAtBottom&&this.scrollToBottom()}},{key:"scrollToBottom",value:function(){this.messagesEnd&&this.messagesEnd.scrollIntoView({})}},{key:"handleFetchMore",value:function(e){e.preventDefault();var t=this.props,n=t.isFetching,a=t.onFetchMore;return n||a(),!1}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.isSending,a=t.onSubmit,r=this.state.content;return n||Te()(r)||(a({message:r}),this.setState({content:""})),!1}},{key:"renderMessages",value:function(){var e=this.props,t=e.messages,n=e.onHideMessage,a=e.userId;return Ge()(t,["sentAt"],["asc"]).map(function(e){return l.a.createElement(Le,Object.assign({},e,{isUser:e.user._id===a,key:e._id,picture:e.user.profile.picture,sentAt:e.sentAt,userName:e.user.userName,onHide:function(){return n&&n(e)}}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.isFetching,r=t.isSending,s=t.remainMessages,i=t.t,o=t.totalMessages,c=this.state.content;return l.a.createElement("div",{id:"chat",className:"chat"},l.a.createElement("div",{className:"chat-window"},l.a.createElement("ul",{className:"messages pt-3",ref:function(t){e.messages=t}},o>10&&l.a.createElement("li",{className:"fetch-more text-center mb-3"},l.a.createElement("button",{className:"btn btn-link",disabled:!s||a,onClick:function(t){return e.handleFetchMore(t)},onKeyPress:function(t){return e.handleFetchMore(t)}},a&&l.a.createElement(me.a,{icon:Ue.b,spin:a}),l.a.createElement("span",{className:"ml-2"},i("component:Chat.".concat(s?"fetchMore":"noMoreMessages"))))),this.renderMessages(),l.a.createElement("div",{ref:function(t){e.messagesEnd=t}})),n,l.a.createElement("form",{className:"bottom-wrapper clearfix",onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{autoComplete:"off",className:"form-control",name:"content",onChange:function(t){return e.setState({content:t.target.value})},placeholder:i("component:Chat.placeholder"),value:c}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{disabled:r,type:"submit",className:"btn btn-primary"},l.a.createElement(me.a,{icon:r?Ue.b:Ue.a,spin:r})))))))}}]),t}(l.a.Component);Be.defaultProps={children:null,onHideMessage:null,inputValue:"",messages:[],remainMessages:!1,totalMessages:0};var Fe=Object(b.c)()(Be),We=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={isFetching:!1,isSending:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.fetchMessages()}},{key:"componentWillUnmount",value:function(){var e=Object(ye.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!1;case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(e){var t=this,n=this.props,a=n.dispatch,r=n.credentials,s=this.state.isSending,i={content:e.message,user:r};s||we.create(i,{onRequest:function(){return t.setState({isSending:!0})},onSuccess:function(e){a(function(e){var t=e.message;return function(e){var n=Object(L.b)(t,B),a=n.result;e(T(n.entities)),e({type:R,id:a})}}(e)),t.setState({isSending:!1})},onError:function(){t.setState({isSending:!1}),t.showError()}})}},{key:"hideMessage",value:function(e){var t=this,n=this.props,a=n.dispatch,r=n.credentials,s=this.state.isUpdating,i=Object(N.a)({},e,{isHidden:!e.isHidden,user:r});s||we.update(i,{onRequest:function(){return t.setState({isUpdating:!0})},onSuccess:function(e){a(function(e){var t=e.message;return function(e){e(T(Object(L.b)(t,B).entities))}}(e)),t.setState({isUpdating:!1})},onError:function(){t.setState({isUpdating:!1}),t.showError()}})}},{key:"fetchMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this.props,r=a.i18n,s=a.dispatch,i=this.state.isFetching,o={limit:t,skip:n,language:r.language};i||we.find(o,{onRequest:function(){return e.setState({isFetching:!0})},onSuccess:function(t){s(function(e){var t=e.messages,n=e.totalMessages,a=e.skip,r=e.limit;return function(e){var s=Object(L.b)(t,F),i=s.result;e(T(s.entities)),e({type:q,ids:i,totalMessages:n,skip:a,limit:r})}}(t)),e.setState({isFetching:!1})},onError:function(){e.setState({isFetching:!1}),e.showError()}})}},{key:"showError",value:function(){var e=this.props.t;Ne()(e("request:error.title"),e("request:error.notPrecise"),"error")}},{key:"render",value:function(){var e=this,t=this.props,n=t.credentials,a=t.messages,r=t.data,s=this.state,i=s.isFetching,o=s.isSending;return l.a.createElement("section",{id:"messages"},l.a.createElement("div",{className:"container"},l.a.createElement(Fe,{isFetching:i,isSending:o,messages:a,onFetchMore:function(){return e.fetchMessages(10,r.skip+10)},onHideMessage:function(t){return e.hideMessage(t)},onSubmit:function(t){return e.sendMessage(t)},remainMessages:a.length<r.totalMessages,totalMessages:r.totalMessages,userId:n._id})))}}]),t}(l.a.Component);We.defaultProps={i18n:{language:"en"},messages:[]};var qe=Object(b.c)()(Object(m.b)(function(e){return{credentials:e.credentials,data:e.messages,messages:Object(L.a)(e.messages.ids,F,e.entities)}},function(e){return{dispatch:e}})(We)),Re=(n(240),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={userName:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({userName:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,a=t.credentials,r=this.state.userName;n(function(e){return Object(N.a)({type:S},e)}(Object(N.a)({},a,{userName:r})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.credentials,r=this.state.userName;return!a.userName&&l.a.createElement("div",{className:"welcome"},l.a.createElement("div",{className:"centered"},l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"userName"},n("component:Welcome.label")),l.a.createElement("input",{type:"text",className:"form-control",id:"userName",name:"userName","aria-describedby":"userNameHelp",placeholder:n("component:Welcome.placeholder"),onChange:function(t){return e.handleChange(t)},value:r}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},n("component:Welcome.helpText"))),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},n("component:Welcome.submit")))))}}]),t}(l.a.Component)),Ve=Object(b.c)()(Object(m.b)(function(e){return{credentials:e.credentials}},function(e){return{dispatch:e}})(Re)),Je=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.i18n;$.a.locale(ne(e.language,"moment")),Z.a.locale(ne(e.language,"moment"))}},{key:"componentDidUpdate",value:function(e){var t=this.props.i18n;e.i18n.language!==t.language&&($.a.locale(ne(t.language,"moment")),Z.a.locale(ne(t.language,"moment")))}},{key:"render",value:function(){var e=this.props.credentials;return l.a.createElement("div",{id:"app"},l.a.createElement(K.ToastContainer,null),e.userName?l.a.createElement("div",{className:"hasUserName"},l.a.createElement(he,null,l.a.createElement(qe,null))):l.a.createElement(Ve,null))}}]),t}(l.a.Component);Je.defaultProps={i18n:{language:"en"}};var Ye=Object(b.c)()(Object(m.b)(function(e){return{credentials:e.credentials}},function(e){return{dispatch:e}})(Je)),ze=(n(242),function(e){var t=e.t,n=e.text,a=e.translated,r=e.children;return l.a.createElement("div",{className:"splashScreen"},l.a.createElement("div",{className:"svg-container"},r||l.a.createElement(me.a,{icon:pe.faCircleNotch,spin:!0}),l.a.createElement("p",{className:"mt-2"},n&&(a?n:t(n))||t("splashLoading"))))});ze.defaultProps={text:null,children:null,translated:!1};var Ke=Object(b.c)()(ze),Qe=n(58),$e=n(101),Xe=n.n($e),Ze=n(102),et=n.n(Ze);Qe.a.use(Xe.a).use(et.a).use(b.b).init({ns:["common","component","request"],defaultNS:"common",fallbackLng:"en",whitelist:["en","fr"],debug:!1,interpolation:{escapeValue:!1},react:{wait:!0,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default",defaultTransParent:"span"},backend:{loadPath:"".concat("/simple-chat","/locales/{{lng}}/{{ns}}.json")}});var tt=Qe.a;n.d(t,"default",function(){return st});var nt=[y.a,function(){return function(e){return function(t){return t.error&&t.error.message,e(t)}}}];nt.concat([function(e){return function(t){return function(n){return"function"!==typeof n.then?t(n):Promise.resolve(n).then(e.dispatch)}}},function(){return function(e){return function(t){if(!t.promise)return e(t);function n(e,n){var a=Object.assign({},t,{ready:e},n);return delete a.promise,a}return e(n(!1)),t.promise.then(function(t){return e(n(!0,{result:t}))},function(t){return e(n(!0,{error:t}))})}}}]);var at={key:"root",storage:h.a,whitelist:["credentials"]},rt=Object(f.a)(at,z),st=Object(p.e)(rt,Object(p.d)(p.a.apply(void 0,nt))),it=Object(f.b)(st),ot=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(s.a)(this,Object(i.a)(t).call(this))).state={splash:!0},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({splash:!1})},1500)}},{key:"render",value:function(){var e=this.state.splash;return l.a.createElement(m.a,{store:st},l.a.createElement(v.a,{loading:l.a.createElement(Ke,null),persistor:it},l.a.createElement(b.a,{i18n:tt},e?l.a.createElement(Ke,null):l.a.createElement(Ye,null))))}}]),t}(l.a.Component);d.a.render(l.a.createElement(ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){e.exports=n.p+"static/media/avatar3.d1cc399e.png"}},[[103,2,1]]]);
//# sourceMappingURL=main.8b1acac2.chunk.js.map